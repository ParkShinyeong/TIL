## 데이터베이스 정규화 (Database Nomalization)

데이터베이스 정규화는 데이터베이스 설계와 관련이 있다. 데이터베이스 설계에 따라 데이터가 어떻게 저장될지 그 구조를 결정하기 때문이다.

데이터 베이스 설계를 위해 다음 부분들이 중요하다!

### Database Redundancy (데이터 중복)

데이터 중복 (database Redundancy)는 실제 데이터의 동일한 복사본이나 부분적인 복사본을 뜻한다.

이러한 중복으로 데이터를 복구할 때는 더 수월하지만, 대체로 데이터베이스 내에서 몇가지 문제점을 일으킨다.

- 일관된 자료 처리의 어려움
- 저장 공간의 낭비
- 데이터 효율성 감소

### Data Integrity (데이터 무결성)

데이터 정규화는 데이터 무결성을 강화하는 목적을 가지고 있다.

**데이터 무결성**: 데이터의 수명 주기 동안 정확성과 일관성을 유지하는 것, 즉 입력된 데이터가 오염되지 않고, 입력된 그대로 데이터를 사용할 수 있다는 뜻

### Anomaly (이상 현상)

데이터 이상 현상은 기대한 데이터와 다른 이상 현상을 가리킨다.

- 갱신 이상 (update anomaly)
- 삽입 이상 (insertion anomaly)
- 삭제 이상 (deletion anomaly)

**Update anomaly (갱신 이상)**

여러 행(레코드)에 걸쳐 동일한 데이터가 있을 때 어떤 행을 갱신해아 하는지 논리적인 일관성이 없을 때 발생

만약 아래 테이블이 존재하고, studentId처럼 두 개의 레코드가 동일한 값을 가질 때, 123번을 갱신하는 경우, 어떤 행의 데이터를 갱신해야 하는지 알 수 없다.

| studentId | student_address |
| --------- | --------------- |
| 123       | 김밥로 123번지  |
| 123       | 국수로 123번지  |
| 345       | 감자로 321번지  |
| 234       | 가거로 132번지  |

**Insertion Anomaly**

삽입 이상(insertion anomaly)는 데이터를 삽입하지 못하는 경우를 가리킨다.

| id  | name      | class   |
| --- | --------- | ------- |
| 1   | dr. hello | eng-302 |
| 2   | dr. wole  | kor-102 |

| 3   | dr. Lee |
| --- | ------- |

⇒ 테이블에 새로운 직원이 들어와서, 데이터를 추가하고자 하는데, Dr. Lee의 수업이 아직 정해지지 않았다면, 데이터를 추가할 수 없다. class 를 null이라고 지정하지 않는 이상, 담당 수업이 있어야 테이블에 추가할 수 있다.

**Deletion Anomaly**

삭제 이상은 데이터의 특정 부분을 지울 때 의도치 않게 다른 부분도 함께 지우는 이상 현상이다.

만약 한 직원이 담당하는 수업을 삭제하려고 하는데, 수업 데이터를 삭제하려면, 레코드 전체가 사라진다.

결국 의도치 않게 다른 데이터도 함께 삭제되는 현상이 발생한다.

---

## SQL 문법의 종류

SQL의 문법은 다음과 같이 분류할 수 있다.

1. **DDL (Data Definition Language)**
   1. 데이터를 정의할 때 사용하는 언어
   2. 테이블을 만드는 `CREATE`, 테이블을 제거하는 `DROP` 등
   3. 데이터베이스의 테이블과 같은 오브젝트를 정의할 때 사용한다.
2. **DML (Data Manipulation Language)**
   1. 데이터베이스를 저장할 때 사용하는 언어
   2. 새로운 레코드를 추가하는 `INSERT INTO` , 레코드를 변경하는 `UPDATE`, 데이터를 삭제하는 `DELETE` 등
3. **DCL (Data Control Language)**
   1. 데이터베이스 접근 권한과 관련된 문법 - 어느 유저가 데이터베이스에 접근할 수 있는지 권한을 설정
   2. 권한을 주는 `Grant`나, 권한을 가져가는 `REVOKE` 등
4. **DQL (Data Query Language)**
   1. 정해진 스키마 내에서 쿼리할 수 있는 언어
   2. `SELECT`
   3. DQL은 DML의 일부분으로 취급하기도 한다.
5. **TCL (Transaction Control Language)**
   1. DML을 거친 데이터의 변경 사항을 수정할 수 있다.
   2. `COMMIT` 처럼 DML이 작업한 내용을 데이터베이스에 커밋하거나, `ROLLBACK`처럼 커밋한 내용을 다시 롤백하는 문법
